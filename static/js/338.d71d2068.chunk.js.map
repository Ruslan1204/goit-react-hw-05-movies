{"version":3,"file":"static/js/338.d71d2068.chunk.js","mappings":"8PACA,EAAyB,2BAAzB,EAA4D,0B,SCoC5D,EAhCmB,SAAC,GAA8C,IAA5CA,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAChD,OACE,iCACE,kBAAMD,SAAUA,EAAhB,WACE,kBACEE,KAAK,OACLD,SAAUA,EACVE,KAAK,aAELC,UAAWC,KAEb,mBAAQH,KAAK,SAASE,UAAWC,EAAjC,wBAIF,wBACGP,EAAOQ,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CACEC,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMZ,GACfK,UAAWC,EAHb,SAKGE,EAAMK,SANFL,EAAME,GADA,QAcxB,ECwCD,EAde,WACb,MAzD2B,WAC3B,IAAMV,GAAWc,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOhB,EAAP,KAAeiB,EAAf,KACA,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAaF,EAAaG,IAAI,cAyCpC,OAvCAC,EAAAA,EAAAA,YAAU,WACR,GAAmB,KAAfF,GAAoC,OAAfA,EAAzB,CAEQ,IACSG,EADV,mCACL,8GAEuBC,EAAAA,EAAAA,IAAgBJ,GAFvC,OAEUK,EAFV,OAGIX,EAAUW,GAHd,gDAKIC,QAAQC,IAAR,MALJ,yDADK,qDASLJ,GACD,CACF,GAAE,CAACH,IAyBG,CACLA,WAAAA,EACAL,OAAAA,EACAlB,OAAAA,EACAC,SAAAA,EACA8B,kBA5BwB,SAAAC,GACxB,IAAQC,EAAUD,EAAIE,OAAdD,MAERd,EAAUc,EACX,EAyBCE,aAvBmB,SAAAH,GACnBA,EAAII,iBACJ,IAAMC,EAAOL,EAAIM,cAEjBhB,EAAgB,CAAEC,WAAYc,EAAKE,SAAShB,WAAWU,QAEvDI,EAAKG,OASN,EAUF,CAIGC,GADMzC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAAU8B,EAA1B,EAA0BA,kBAAmBI,EAA7C,EAA6CA,aAG7C,OACI,SAAC,EAAD,CACEnC,OAAQA,EACRC,SAAUA,EACVC,SAAUiC,EACVhC,SAAU4B,GAGjB,C,+LCvEKW,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIOC,EAAS,mCAAG,sGACAC,EAAAA,EAAAA,IACrB,iEACAN,GAHqB,uBACfd,EADe,EACfA,KADe,kBAKhBA,EAAKqB,SALW,2CAAH,qDAQTtB,EAAe,mCAAG,WAAMT,GAAN,yFACN8B,EAAAA,EAAAA,IAAA,0DAC8B9B,EAD9B,8CAErBwB,GAH2B,uBACrBd,EADqB,EACrBA,KADqB,kBAKtBA,EAAKqB,SALiB,2CAAH,sDAQfC,EAAa,mCAAG,WAAOvC,GAAP,yFACJqC,EAAAA,EAAAA,IAAA,6CACiBrC,EADjB,uEAErB+B,GAHyB,uBACnBd,EADmB,EACnBA,KADmB,kBAKpBA,GALoB,2CAAH,sDASbuB,EAAiB,mCAAG,WAAOxC,GAAP,yFACRqC,EAAAA,EAAAA,IAAA,6CACiBrC,EADjB,+EAErB+B,GAH6B,uBACvBd,EADuB,EACvBA,KADuB,kBAKxBA,GALwB,2CAAH,sDAWjBwB,EAAkB,mCAAG,WAAOzC,GAAP,yFACTqC,EAAAA,EAAAA,IAAA,6CACiBrC,EADjB,+EAErB+B,GAH8B,uBACxBd,EADwB,EACxBA,KADwB,kBAKzBA,GALyB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/MoviesForm/MoviesForm.module.css?e8ec","components/MoviesForm/MoviesForm.jsx","pages/Movies/Movies.jsx","services/MoviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"MoviesForm_movies__qUWch\",\"input\":\"MoviesForm_input__TIpZG\"};","import { Link } from 'react-router-dom';\nimport css from './MoviesForm.module.css';\n\nimport PropTypes from 'prop-types';\n\nconst MoviesForm = ({ movies, location, onSubmit, onChange }) => {\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          onChange={onChange}\n          name=\"nameSearch\"\n          // value={nameSearch}\n          className={css.input}\n        />\n        <button type=\"submit\" className={css.input}>\n          Search\n        </button>\n      </form>\n      <ol>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.movies}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ol>\n    </>\n  );\n};\n\nexport default MoviesForm;\n\nMoviesForm.propTypes = {\n  movies: PropTypes.array.isRequired,\n  location: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { getMoviesSearch } from '../../services/MoviesApi';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport MoviesForm from 'components/MoviesForm/MoviesForm';\n\nconst useFetchSearchMovies = () => {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const nameSearch = searchParams.get('nameSearch');\n\n  useEffect(() => {\n    if (nameSearch === '' || nameSearch === null) {\n      return;\n    } else {\n      async function fetchSearchMovies() {\n        try {\n          const data = await getMoviesSearch(nameSearch);\n          setMovies(data);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      fetchSearchMovies();\n    }\n  }, [nameSearch]);\n\n  const handleChangeSearc = evt => {\n    const { value } = evt.target;\n\n    setSearch(value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const form = evt.currentTarget;\n\n    setSearchParams({ nameSearch: form.elements.nameSearch.value });\n\n    form.reset();\n\n    // if (nameSearch.trim() === '') {\n    //   return;\n    // }\n\n    // fetchSearchMovies(search);\n\n    // setSearch('');\n  };\n\n  return {\n    nameSearch,\n    search,\n    movies,\n    location,\n    handleChangeSearc,\n    handleSubmit,\n  };\n};\n\nconst Movies = () => {\n  const { movies, location, handleChangeSearc, handleSubmit } =\n    useFetchSearchMovies();\n\n  return (\n      <MoviesForm\n        movies={movies}\n        location={location}\n        onSubmit={handleSubmit}\n        onChange={handleChangeSearc}\n      />\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZWMxMmRlZjg2M2YzZWRkYTI2ZTkyN2Q0MjhlYjhiNyIsInN1YiI6IjY0ODZmNTFlYmYzMWYyNTA1NWExZjUxNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.EQTJ9S41HeJwnVayvyjYuEP2293NNK8I9CJTdUvSfNI',\n  },\n};\n\nexport const getMovies = async () => {\n  const { data } = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n    options\n  );\n  return data.results;\n};\n\nexport const getMoviesSearch = async search => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${search}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  return data.results;\n};\n\nexport const getMoviesById = async (id) => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=bec12def863f3edda26e927d428eb8b7&append_to_response=videos`,\n    options\n  );\n  return data;\n};\n\n\nexport const getMoviesByActors = async (id) => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=bec12def863f3edda26e927d428eb8b7&append_to_response=videos`,\n    options\n  );\n  return data;\n  // console.log(data)\n};\n\n// getMoviesByActors()\n\nexport const getMoviesByReviews = async (id) => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=bec12def863f3edda26e927d428eb8b7&append_to_response=videos`,\n    options\n  );\n  return data;\n  // console.log(data)\n};\n\n// getMoviesByReviews()\n\n\n\n\n"],"names":["movies","location","onSubmit","onChange","type","name","className","css","map","movie","to","id","state","from","title","useLocation","useState","setMovies","search","setSearch","useSearchParams","searchParams","setSearchParams","nameSearch","get","useEffect","fetchSearchMovies","getMoviesSearch","data","console","log","handleChangeSearc","evt","value","target","handleSubmit","preventDefault","form","currentTarget","elements","reset","useFetchSearchMovies","options","method","headers","accept","Authorization","getMovies","axios","results","getMoviesById","getMoviesByActors","getMoviesByReviews"],"sourceRoot":""}